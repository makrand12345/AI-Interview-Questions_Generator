<div class="generator-container">
  <!-- Floating doodle SVGs (expanded) -->
  <svg class="floating-doodle doodle-1" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg"><circle cx="50" cy="50" r="40" fill="none" stroke="#000" stroke-width="2"/><path d="M35 50 A15 15 0 0 1 65 50" fill="none" stroke="#000" stroke-width="2"/></svg>
  <svg class="floating-doodle doodle-2" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg"><rect x="20" y="20" width="60" height="60" fill="none" stroke="#000" stroke-width="2" rx="5"/><circle cx="35" cy="35" r="4" fill="#000"/><circle cx="65" cy="35" r="4" fill="#000"/><path d="M35 60 Q50 70 65 60" fill="none" stroke="#000" stroke-width="2" stroke-linecap="round"/></svg>
  <svg class="floating-doodle doodle-3" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg"><path d="M50 10 L65 40 L95 40 L72 60 L80 90 L50 70 L20 90 L28 60 L5 40 L35 40 Z" fill="none" stroke="#000" stroke-width="2"/></svg>
  <svg class="floating-doodle doodle-4" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg"><circle cx="50" cy="50" r="35" fill="none" stroke="#000" stroke-width="2"/><circle cx="50" cy="50" r="20" fill="none" stroke="#000" stroke-width="2"/><circle cx="50" cy="50" r="5" fill="#000"/></svg>
  <svg class="floating-doodle doodle-5" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg"><path d="M20 50 L80 50 M50 20 L50 80" stroke="#000" stroke-width="2" stroke-linecap="round"/><circle cx="50" cy="50" r="30" fill="none" stroke="#000" stroke-width="2"/></svg>
  <svg class="floating-doodle doodle-6" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg"><path d="M30 30 Q50 10 70 30 Q90 50 70 70 Q50 90 30 70 Q10 50 30 30" fill="none" stroke="#000" stroke-width="2" stroke-linejoin="round"/><path d="M50 30 L50 70 M30 50 L70 50" stroke="#000" stroke-width="2" stroke-linecap="round"/></svg>
  <svg class="floating-doodle doodle-7" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg"><path d="M20 60 Q40 40 60 60 Q80 80 100 60" fill="none" stroke="#000" stroke-width="2"/></svg>
  <svg class="floating-doodle doodle-8" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg"><rect x="30" y="30" width="40" height="20" fill="none" stroke="#000" stroke-width="2" rx="4"/><circle cx="50" cy="50" r="6" fill="#000"/></svg>
  <svg class="floating-doodle doodle-9" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg"><path d="M10 80 C30 60 70 60 90 80" stroke="#000" stroke-width="2" fill="none" stroke-linecap="round"/></svg>
  <svg class="floating-doodle doodle-10" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg"><circle cx="30" cy="30" r="8" fill="none" stroke="#000" stroke-width="2"/><circle cx="70" cy="70" r="10" fill="none" stroke="#000" stroke-width="2"/></svg>
  <svg class="floating-doodle doodle-11" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg"><path d="M20 20 L80 80 M80 20 L20 80" stroke="#000" stroke-width="1.6" stroke-linecap="round"/></svg>
  <svg class="floating-doodle doodle-12" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg"><path d="M50 10 Q70 30 50 50 Q30 70 50 90 Q30 70 10 50 Q30 30 50 10" fill="none" stroke="#000" stroke-width="1.8"/></svg>

  <main class="card generator-card">
    <!-- small doodles -->
    <svg class="floating-doodle small doodle-s1" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><circle cx="12" cy="12" r="9" fill="none" stroke="#000" stroke-width="1.6"/></svg>
    <svg class="floating-doodle small doodle-s2" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><rect x="4" y="8" width="16" height="8" fill="none" stroke="#000" stroke-width="1.6" rx="2"/></svg>
    <svg class="floating-doodle small doodle-s3" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M4 18 C8 12 16 12 20 18" stroke="#000" stroke-width="1.6" fill="none" stroke-linecap="round"/></svg>
    <svg class="floating-doodle small doodle-s4" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><circle cx="6" cy="6" r="2" fill="#000"/><circle cx="18" cy="18" r="2" fill="#000"/></svg>
    <div class="header-section">
      <h2>Generate Interview Questions</h2>
      <p>Fill in the details below to get AI-powered technical questions.</p>
    </div>

    <div class="form-grid">
      <div class="input-group">
        <label for="role">Target Job Role</label>
        <input 
          id="role"
          [(ngModel)]="jobRole" 
          placeholder="e.g. Senior Frontend Engineer" 
        />
      </div>

      <div class="input-group">
        <label for="level">Experience Level</label>
        <select id="level" [(ngModel)]="seniority">
          <option value="Fresher">Fresher</option>
          <option value="Experienced">Experienced</option>
          <option value="Mid-level">Mid-level</option>
          <option value="Senior">Senior</option>
        </select>
      </div>
    </div>

    <div class="input-group">
      <label for="jd">Job Description (Optional)</label>
      <textarea 
        id="jd"
        [(ngModel)]="jobDescription" 
        rows="5" 
        placeholder="Paste the job requirements here to help the AI identify specific skill gaps..."
      ></textarea>
    </div>

    <div class="input-group">
      <label for="resume">Your Resume (PDF)</label>
      <label for="resume" class="file-drop-zone">
        <input 
          type="file" 
          id="resume"
          (change)="onFileChange($event)" 
          accept=".pdf" 
        />
        <p class="file-hint">ðŸ“„ Click to upload or drag and drop your PDF</p>
      </label>
    </div>

  <button 
  class="btn-generate" 
  [disabled]="isLoading() || !api.token()" 
  (click)="generate()"
  [style.opacity]="api.token() ? '1' : '0.5'"
>
  @if (isLoading()) {
    <span class="loader-spinner"></span>
  } @else if (!api.token()) {
    Login to Generate Questions
  } @else {
    Generate 10 Deep-Dive Questions
  }
</button>

  </main>

  @if (questions().length > 0) {
    <section class="results-container">
      <div class="results-meta">
        <h3>Your Personalized Interview Guide</h3>
        <p>Targeting: <strong>{{ seniority() }} {{ jobRole() }}</strong></p>
      </div>

      <div class="question-list">
        @for (q of questions(); track $index) {
          <div class="question-card">
            <div class="q-badge">{{ $index + 1 }}</div>
            <div class="q-text">
              <p>{{ q }}</p>
            </div>
          </div>
        }
      </div>
    </section>
  }
</div>